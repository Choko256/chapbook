<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="737pt" height="985pt"
 viewBox="0.00 0.00 737.09 985.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 981)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-981 733.0918,-981 733.0918,4 -4,4"/>
<!-- loadPage -->
<g id="node1" class="node">
<title>loadPage</title>
<path fill="none" stroke="#000000" d="M571.4297,-977C571.4297,-977 473.3086,-977 473.3086,-977 467.3086,-977 461.3086,-971 461.3086,-965 461.3086,-965 461.3086,-953 461.3086,-953 461.3086,-947 467.3086,-941 473.3086,-941 473.3086,-941 571.4297,-941 571.4297,-941 577.4297,-941 583.4297,-947 583.4297,-953 583.4297,-953 583.4297,-965 583.4297,-965 583.4297,-971 577.4297,-977 571.4297,-977"/>
<text text-anchor="middle" x="522.3691" y="-955.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Browser loads page</text>
</g>
<!-- setDefaults -->
<g id="node2" class="node">
<title>setDefaults</title>
<polygon fill="none" stroke="#000000" points="587.2721,-904 457.4662,-904 457.4662,-868 587.2721,-868 587.2721,-904"/>
<text text-anchor="middle" x="522.3691" y="-882.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State defaults are set</text>
</g>
<!-- loadPage&#45;&gt;setDefaults -->
<g id="edge1" class="edge">
<title>loadPage&#45;&gt;setDefaults</title>
<path fill="none" stroke="#000000" d="M522.3691,-940.9551C522.3691,-932.8828 522.3691,-923.1764 522.3691,-914.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-914.0903 522.3691,-904.0904 518.8692,-914.0904 525.8692,-914.0903"/>
</g>
<!-- loadDom -->
<g id="node3" class="node">
<title>loadDom</title>
<polygon fill="none" stroke="#000000" points="628.4883,-831 416.25,-831 416.25,-795 628.4883,-795 628.4883,-831"/>
<text text-anchor="middle" x="522.3691" y="-815.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Story loads from DOM data</text>
<text text-anchor="middle" x="522.3691" y="-803.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">and trail is defaulted to start passage</text>
</g>
<!-- setDefaults&#45;&gt;loadDom -->
<g id="edge2" class="edge">
<title>setDefaults&#45;&gt;loadDom</title>
<path fill="none" stroke="#000000" d="M522.3691,-867.9551C522.3691,-859.8828 522.3691,-850.1764 522.3691,-841.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-841.0903 522.3691,-831.0904 518.8692,-841.0904 525.8692,-841.0903"/>
</g>
<!-- restoreState -->
<g id="node4" class="node">
<title>restoreState</title>
<polygon fill="none" stroke="#000000" points="617.2778,-758 427.4605,-758 427.4605,-722 617.2778,-722 617.2778,-758"/>
<text text-anchor="middle" x="522.3691" y="-742.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State restores from local storage</text>
<text text-anchor="middle" x="522.3691" y="-730.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">if possible</text>
</g>
<!-- loadDom&#45;&gt;restoreState -->
<g id="edge3" class="edge">
<title>loadDom&#45;&gt;restoreState</title>
<path fill="none" stroke="#000000" d="M522.3691,-794.9551C522.3691,-786.8828 522.3691,-777.1764 522.3691,-768.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-768.0903 522.3691,-758.0904 518.8692,-768.0904 525.8692,-768.0903"/>
</g>
<!-- addStyle -->
<g id="node5" class="node">
<title>addStyle</title>
<polygon fill="none" stroke="#000000" points="601.2622,-685 443.4761,-685 443.4761,-649 601.2622,-649 601.2622,-685"/>
<text text-anchor="middle" x="522.3691" y="-663.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Custom story styles added</text>
</g>
<!-- restoreState&#45;&gt;addStyle -->
<g id="edge4" class="edge">
<title>restoreState&#45;&gt;addStyle</title>
<path fill="none" stroke="#000000" d="M522.3691,-721.9551C522.3691,-713.8828 522.3691,-704.1764 522.3691,-695.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-695.0903 522.3691,-685.0904 518.8692,-695.0904 525.8692,-695.0903"/>
</g>
<!-- addScript -->
<g id="node6" class="node">
<title>addScript</title>
<polygon fill="none" stroke="#000000" points="595.2329,-612 449.5054,-612 449.5054,-576 595.2329,-576 595.2329,-612"/>
<text text-anchor="middle" x="522.3691" y="-590.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Custom story scripts run</text>
</g>
<!-- addStyle&#45;&gt;addScript -->
<g id="edge5" class="edge">
<title>addStyle&#45;&gt;addScript</title>
<path fill="none" stroke="#000000" d="M522.3691,-648.9551C522.3691,-640.8828 522.3691,-631.1764 522.3691,-622.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-622.0903 522.3691,-612.0904 518.8692,-622.0904 525.8692,-622.0903"/>
</g>
<!-- setPassageVars -->
<g id="node7" class="node">
<title>setPassageVars</title>
<polygon fill="none" stroke="#000000" points="615.6232,-539 429.1151,-539 429.1151,-503 615.6232,-503 615.6232,-539"/>
<text text-anchor="middle" x="522.3691" y="-517.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Passage at end of trail sets vars</text>
</g>
<!-- addScript&#45;&gt;setPassageVars -->
<g id="edge6" class="edge">
<title>addScript&#45;&gt;setPassageVars</title>
<path fill="none" stroke="#000000" d="M522.3691,-575.9551C522.3691,-567.8828 522.3691,-558.1764 522.3691,-549.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-549.0903 522.3691,-539.0904 518.8692,-549.0904 525.8692,-549.0903"/>
</g>
<!-- displayPassage -->
<g id="node8" class="node">
<title>displayPassage</title>
<polygon fill="none" stroke="#000000" points="613.4649,-466 431.2734,-466 431.2734,-430 613.4649,-430 613.4649,-466"/>
<text text-anchor="middle" x="522.3691" y="-444.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Passage at end of trail displays</text>
</g>
<!-- setPassageVars&#45;&gt;displayPassage -->
<g id="edge7" class="edge">
<title>setPassageVars&#45;&gt;displayPassage</title>
<path fill="none" stroke="#000000" d="M522.3691,-502.9551C522.3691,-494.8828 522.3691,-485.1764 522.3691,-476.1817"/>
<polygon fill="#000000" stroke="#000000" points="525.8692,-476.0903 522.3691,-466.0904 518.8692,-476.0904 525.8692,-476.0903"/>
</g>
<!-- idle -->
<g id="node9" class="node">
<title>idle</title>
<polygon fill="none" stroke="#000000" points="391.2489,-393 309.4893,-393 309.4893,-357 391.2489,-357 391.2489,-393"/>
<text text-anchor="middle" x="350.3691" y="-371.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Engine idles</text>
</g>
<!-- displayPassage&#45;&gt;idle -->
<g id="edge8" class="edge">
<title>displayPassage&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M479.8523,-429.9551C455.8588,-419.7718 425.7374,-406.9877 400.5857,-396.3128"/>
<polygon fill="#000000" stroke="#000000" points="401.7852,-393.0198 391.2125,-392.3347 399.0503,-399.4635 401.7852,-393.0198"/>
</g>
<!-- navRequested -->
<g id="node10" class="node">
<title>navRequested</title>
<polygon fill="none" stroke="#000000" points="610.5998,-320 448.1384,-320 448.1384,-284 610.5998,-284 610.5998,-320"/>
<text text-anchor="middle" x="529.3691" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Player clicks a passage link</text>
</g>
<!-- idle&#45;&gt;navRequested -->
<g id="edge9" class="edge">
<title>idle&#45;&gt;navRequested</title>
<path fill="none" stroke="#000000" d="M391.4354,-358.2523C416.4569,-348.048 448.7059,-334.8962 475.7291,-323.8755"/>
<polygon fill="#000000" stroke="#000000" points="477.1113,-327.0918 485.0492,-320.0746 474.4679,-320.6101 477.1113,-327.0918"/>
</g>
<!-- restart -->
<g id="node15" class="node">
<title>restart</title>
<polygon fill="none" stroke="#000000" points="214.2387,-320 62.4995,-320 62.4995,-284 214.2387,-284 214.2387,-320"/>
<text text-anchor="middle" x="138.3691" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Player clicks a restart link</text>
</g>
<!-- idle&#45;&gt;restart -->
<g id="edge16" class="edge">
<title>idle&#45;&gt;restart</title>
<path fill="none" stroke="#000000" d="M309.6453,-364.1177C285.7703,-357.4568 255.1361,-348.4231 228.3691,-339 215.5437,-334.4849 201.8869,-329.1517 189.1892,-323.961"/>
<polygon fill="#000000" stroke="#000000" points="190.2743,-320.6223 179.6958,-320.0354 187.5994,-327.0911 190.2743,-320.6223"/>
</g>
<!-- changeLiveInput -->
<g id="node17" class="node">
<title>changeLiveInput</title>
<polygon fill="none" stroke="#000000" points="430.2896,-320 270.4487,-320 270.4487,-284 430.2896,-284 430.2896,-320"/>
<text text-anchor="middle" x="350.3691" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Player changes a live input</text>
</g>
<!-- idle&#45;&gt;changeLiveInput -->
<g id="edge19" class="edge">
<title>idle&#45;&gt;changeLiveInput</title>
<path fill="none" stroke="#000000" d="M350.3691,-356.9551C350.3691,-348.8828 350.3691,-339.1764 350.3691,-330.1817"/>
<polygon fill="#000000" stroke="#000000" points="353.8692,-330.0903 350.3691,-320.0904 346.8692,-330.0904 353.8692,-330.0903"/>
</g>
<!-- checkRequired -->
<g id="node11" class="node">
<title>checkRequired</title>
<polygon fill="none" stroke="#000000" points="361.3691,-247 270.119,-203 361.3691,-159 452.6193,-203 361.3691,-247"/>
<text text-anchor="middle" x="361.3691" y="-211.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Are any</text>
<text text-anchor="middle" x="361.3691" y="-199.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">required fields</text>
<text text-anchor="middle" x="361.3691" y="-187.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">blank?</text>
</g>
<!-- navRequested&#45;&gt;checkRequired -->
<g id="edge10" class="edge">
<title>navRequested&#45;&gt;checkRequired</title>
<path fill="none" stroke="#000000" d="M498.5554,-283.8419C474.1946,-269.4864 439.6956,-249.1566 411.3886,-232.4758"/>
<polygon fill="#000000" stroke="#000000" points="412.8287,-229.2619 402.4363,-227.2003 409.2748,-235.2927 412.8287,-229.2619"/>
</g>
<!-- blockNav -->
<g id="node12" class="node">
<title>blockNav</title>
<polygon fill="none" stroke="#000000" points="365.4219,-109 217.3164,-109 217.3164,-73 365.4219,-73 365.4219,-109"/>
<text text-anchor="middle" x="291.3691" y="-93.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Navigation is blocked</text>
<text text-anchor="middle" x="291.3691" y="-81.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">and browser shows error</text>
</g>
<!-- checkRequired&#45;&gt;blockNav -->
<g id="edge11" class="edge">
<title>checkRequired&#45;&gt;blockNav</title>
<path fill="none" stroke="#000000" d="M340.1769,-169.0924C329.8836,-152.6232 317.6929,-133.118 308.0699,-117.7212"/>
<polygon fill="#000000" stroke="#000000" points="311.0025,-115.8095 302.7344,-109.1845 305.0665,-119.5195 311.0025,-115.8095"/>
<text text-anchor="middle" x="329.3691" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#000000">no</text>
</g>
<!-- setInputs -->
<g id="node13" class="node">
<title>setInputs</title>
<polygon fill="none" stroke="#000000" points="616.2993,-109 430.439,-109 430.439,-73 616.2993,-73 616.2993,-109"/>
<text text-anchor="middle" x="523.3691" y="-87.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State set with contents of inputs</text>
</g>
<!-- checkRequired&#45;&gt;setInputs -->
<g id="edge13" class="edge">
<title>checkRequired&#45;&gt;setInputs</title>
<path fill="none" stroke="#000000" d="M398.9424,-177.0234C425.9829,-158.3288 462.1906,-133.2963 488.5729,-115.0566"/>
<polygon fill="#000000" stroke="#000000" points="490.8807,-117.7162 497.1159,-109.1504 486.8999,-111.9583 490.8807,-117.7162"/>
<text text-anchor="middle" x="480.7002" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#000000">yes</text>
</g>
<!-- blockNav&#45;&gt;idle -->
<g id="edge12" class="edge">
<title>blockNav&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M280.9182,-109.0606C273.8414,-122.377 265.1217,-141.1974 261.3691,-159 246.6105,-229.017 226.5228,-257.5025 261.3691,-320 270.0204,-335.5161 285.0518,-347.2043 300.3256,-355.7247"/>
<polygon fill="#000000" stroke="#000000" points="298.8118,-358.8823 309.3002,-360.3803 302.0352,-352.6686 298.8118,-358.8823"/>
</g>
<!-- addPassage -->
<g id="node14" class="node">
<title>addPassage</title>
<polygon fill="none" stroke="#000000" points="729.315,-36 547.4233,-36 547.4233,0 729.315,0 729.315,-36"/>
<text text-anchor="middle" x="638.3691" y="-14.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">New passage appended to trail</text>
</g>
<!-- setInputs&#45;&gt;addPassage -->
<g id="edge14" class="edge">
<title>setInputs&#45;&gt;addPassage</title>
<path fill="none" stroke="#000000" d="M551.7961,-72.9551C566.7242,-63.479 585.2001,-51.7508 601.2449,-41.5658"/>
<polygon fill="#000000" stroke="#000000" points="603.3037,-44.4046 609.8706,-36.0904 599.5522,-38.4947 603.3037,-44.4046"/>
</g>
<!-- addPassage&#45;&gt;setPassageVars -->
<g id="edge15" class="edge">
<title>addPassage&#45;&gt;setPassageVars</title>
<path fill="none" stroke="#000000" d="M666.0135,-36.2763C682.1533,-49.3397 699.3691,-68.5384 699.3691,-91 699.3691,-448 699.3691,-448 699.3691,-448 699.3691,-469.1355 655.6919,-487.2865 611.731,-500.2027"/>
<polygon fill="#000000" stroke="#000000" points="610.7224,-496.8507 602.0667,-502.9604 612.6433,-503.582 610.7224,-496.8507"/>
</g>
<!-- unsetAll -->
<g id="node16" class="node">
<title>unsetAll</title>
<polygon fill="none" stroke="#000000" points="166.6076,-221 .1307,-221 .1307,-185 166.6076,-185 166.6076,-221"/>
<text text-anchor="middle" x="83.3691" y="-205.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">All set variables are cleared,</text>
<text text-anchor="middle" x="83.3691" y="-193.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">including trail</text>
</g>
<!-- restart&#45;&gt;unsetAll -->
<g id="edge17" class="edge">
<title>restart&#45;&gt;unsetAll</title>
<path fill="none" stroke="#000000" d="M128.2813,-283.8419C119.9081,-268.7701 107.8763,-247.1129 98.3731,-230.0072"/>
<polygon fill="#000000" stroke="#000000" points="101.3091,-228.0848 93.393,-221.043 95.19,-231.4844 101.3091,-228.0848"/>
</g>
<!-- unsetAll&#45;&gt;setPassageVars -->
<g id="edge18" class="edge">
<title>unsetAll&#45;&gt;setPassageVars</title>
<path fill="none" stroke="#000000" d="M68.1338,-221.0257C53.7498,-239.9275 34.3691,-271.1242 34.3691,-302 34.3691,-448 34.3691,-448 34.3691,-448 34.3691,-486.5346 275.4457,-506.9632 418.7136,-515.7012"/>
<polygon fill="#000000" stroke="#000000" points="418.6634,-519.2044 428.8552,-516.3102 419.0831,-512.217 418.6634,-519.2044"/>
</g>
<!-- setLiveInputs -->
<g id="node18" class="node">
<title>setLiveInputs</title>
<polygon fill="none" stroke="#000000" points="671.6388,-221 471.0995,-221 471.0995,-185 671.6388,-185 671.6388,-221"/>
<text text-anchor="middle" x="571.3691" y="-199.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State set with contents of all inputs</text>
</g>
<!-- changeLiveInput&#45;&gt;setLiveInputs -->
<g id="edge20" class="edge">
<title>changeLiveInput&#45;&gt;setLiveInputs</title>
<path fill="none" stroke="#000000" d="M390.647,-283.957C427.5301,-267.4347 482.2357,-242.9286 521.7908,-225.2093"/>
<polygon fill="#000000" stroke="#000000" points="523.2997,-228.3686 530.995,-221.0861 520.438,-221.9802 523.2997,-228.3686"/>
</g>
<!-- setLiveInputs&#45;&gt;displayPassage -->
<g id="edge21" class="edge">
<title>setLiveInputs&#45;&gt;displayPassage</title>
<path fill="none" stroke="#000000" d="M587.6863,-221.3604C605.8953,-244.1643 631.3302,-284.4125 619.3691,-320 605.6626,-360.7808 573.2396,-398.9028 549.6418,-422.7558"/>
<polygon fill="#000000" stroke="#000000" points="546.9793,-420.4662 542.3252,-429.9841 551.8989,-425.4459 546.9793,-420.4662"/>
</g>
</g>
</svg>
