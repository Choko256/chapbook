<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="737pt" height="985pt"
 viewBox="0.00 0.00 737.09 985.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 981)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-981 733.09,-981 733.09,4 -4,4"/>
<!-- loadPage -->
<g id="node1" class="node">
<title>loadPage</title>
<path fill="none" stroke="black" d="M571.43,-977C571.43,-977 473.31,-977 473.31,-977 467.31,-977 461.31,-971 461.31,-965 461.31,-965 461.31,-953 461.31,-953 461.31,-947 467.31,-941 473.31,-941 473.31,-941 571.43,-941 571.43,-941 577.43,-941 583.43,-947 583.43,-953 583.43,-953 583.43,-965 583.43,-965 583.43,-971 577.43,-977 571.43,-977"/>
<text text-anchor="middle" x="522.37" y="-955.4" font-family="Helvetica,sans-Serif" font-size="12.00">Browser loads page</text>
</g>
<!-- setDefaults -->
<g id="node2" class="node">
<title>setDefaults</title>
<polygon fill="none" stroke="black" points="587.27,-904 457.47,-904 457.47,-868 587.27,-868 587.27,-904"/>
<text text-anchor="middle" x="522.37" y="-882.4" font-family="Helvetica,sans-Serif" font-size="12.00">State defaults are set</text>
</g>
<!-- loadPage&#45;&gt;setDefaults -->
<g id="edge1" class="edge">
<title>loadPage&#45;&gt;setDefaults</title>
<path fill="none" stroke="black" d="M522.37,-940.81C522.37,-932.79 522.37,-923.05 522.37,-914.07"/>
<polygon fill="black" stroke="black" points="525.87,-914.03 522.37,-904.03 518.87,-914.03 525.87,-914.03"/>
</g>
<!-- loadDom -->
<g id="node3" class="node">
<title>loadDom</title>
<polygon fill="none" stroke="black" points="628.49,-831 416.25,-831 416.25,-795 628.49,-795 628.49,-831"/>
<text text-anchor="middle" x="522.37" y="-815.4" font-family="Helvetica,sans-Serif" font-size="12.00">Story loads from DOM data</text>
<text text-anchor="middle" x="522.37" y="-803.4" font-family="Helvetica,sans-Serif" font-size="12.00">and trail is defaulted to start passage</text>
</g>
<!-- setDefaults&#45;&gt;loadDom -->
<g id="edge2" class="edge">
<title>setDefaults&#45;&gt;loadDom</title>
<path fill="none" stroke="black" d="M522.37,-867.81C522.37,-859.79 522.37,-850.05 522.37,-841.07"/>
<polygon fill="black" stroke="black" points="525.87,-841.03 522.37,-831.03 518.87,-841.03 525.87,-841.03"/>
</g>
<!-- restoreState -->
<g id="node4" class="node">
<title>restoreState</title>
<polygon fill="none" stroke="black" points="617.28,-758 427.46,-758 427.46,-722 617.28,-722 617.28,-758"/>
<text text-anchor="middle" x="522.37" y="-742.4" font-family="Helvetica,sans-Serif" font-size="12.00">State restores from local storage</text>
<text text-anchor="middle" x="522.37" y="-730.4" font-family="Helvetica,sans-Serif" font-size="12.00">if possible</text>
</g>
<!-- loadDom&#45;&gt;restoreState -->
<g id="edge3" class="edge">
<title>loadDom&#45;&gt;restoreState</title>
<path fill="none" stroke="black" d="M522.37,-794.81C522.37,-786.79 522.37,-777.05 522.37,-768.07"/>
<polygon fill="black" stroke="black" points="525.87,-768.03 522.37,-758.03 518.87,-768.03 525.87,-768.03"/>
</g>
<!-- addStyle -->
<g id="node5" class="node">
<title>addStyle</title>
<polygon fill="none" stroke="black" points="601.26,-685 443.48,-685 443.48,-649 601.26,-649 601.26,-685"/>
<text text-anchor="middle" x="522.37" y="-663.4" font-family="Helvetica,sans-Serif" font-size="12.00">Custom story styles added</text>
</g>
<!-- restoreState&#45;&gt;addStyle -->
<g id="edge4" class="edge">
<title>restoreState&#45;&gt;addStyle</title>
<path fill="none" stroke="black" d="M522.37,-721.81C522.37,-713.79 522.37,-704.05 522.37,-695.07"/>
<polygon fill="black" stroke="black" points="525.87,-695.03 522.37,-685.03 518.87,-695.03 525.87,-695.03"/>
</g>
<!-- addScript -->
<g id="node6" class="node">
<title>addScript</title>
<polygon fill="none" stroke="black" points="595.23,-612 449.51,-612 449.51,-576 595.23,-576 595.23,-612"/>
<text text-anchor="middle" x="522.37" y="-590.4" font-family="Helvetica,sans-Serif" font-size="12.00">Custom story scripts run</text>
</g>
<!-- addStyle&#45;&gt;addScript -->
<g id="edge5" class="edge">
<title>addStyle&#45;&gt;addScript</title>
<path fill="none" stroke="black" d="M522.37,-648.81C522.37,-640.79 522.37,-631.05 522.37,-622.07"/>
<polygon fill="black" stroke="black" points="525.87,-622.03 522.37,-612.03 518.87,-622.03 525.87,-622.03"/>
</g>
<!-- setPassageVars -->
<g id="node7" class="node">
<title>setPassageVars</title>
<polygon fill="none" stroke="black" points="615.62,-539 429.12,-539 429.12,-503 615.62,-503 615.62,-539"/>
<text text-anchor="middle" x="522.37" y="-517.4" font-family="Helvetica,sans-Serif" font-size="12.00">Passage at end of trail sets vars</text>
</g>
<!-- addScript&#45;&gt;setPassageVars -->
<g id="edge6" class="edge">
<title>addScript&#45;&gt;setPassageVars</title>
<path fill="none" stroke="black" d="M522.37,-575.81C522.37,-567.79 522.37,-558.05 522.37,-549.07"/>
<polygon fill="black" stroke="black" points="525.87,-549.03 522.37,-539.03 518.87,-549.03 525.87,-549.03"/>
</g>
<!-- displayPassage -->
<g id="node8" class="node">
<title>displayPassage</title>
<polygon fill="none" stroke="black" points="613.46,-466 431.27,-466 431.27,-430 613.46,-430 613.46,-466"/>
<text text-anchor="middle" x="522.37" y="-444.4" font-family="Helvetica,sans-Serif" font-size="12.00">Passage at end of trail displays</text>
</g>
<!-- setPassageVars&#45;&gt;displayPassage -->
<g id="edge7" class="edge">
<title>setPassageVars&#45;&gt;displayPassage</title>
<path fill="none" stroke="black" d="M522.37,-502.81C522.37,-494.79 522.37,-485.05 522.37,-476.07"/>
<polygon fill="black" stroke="black" points="525.87,-476.03 522.37,-466.03 518.87,-476.03 525.87,-476.03"/>
</g>
<!-- idle -->
<g id="node9" class="node">
<title>idle</title>
<polygon fill="none" stroke="black" points="391.25,-393 309.49,-393 309.49,-357 391.25,-357 391.25,-393"/>
<text text-anchor="middle" x="350.37" y="-371.4" font-family="Helvetica,sans-Serif" font-size="12.00">Engine idles</text>
</g>
<!-- displayPassage&#45;&gt;idle -->
<g id="edge8" class="edge">
<title>displayPassage&#45;&gt;idle</title>
<path fill="none" stroke="black" d="M481.17,-429.99C457.02,-420.03 426.34,-407.36 400.76,-396.8"/>
<polygon fill="black" stroke="black" points="401.81,-393.45 391.23,-392.87 399.14,-399.92 401.81,-393.45"/>
</g>
<!-- navRequested -->
<g id="node10" class="node">
<title>navRequested</title>
<polygon fill="none" stroke="black" points="610.6,-320 448.14,-320 448.14,-284 610.6,-284 610.6,-320"/>
<text text-anchor="middle" x="529.37" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00">Player clicks a passage link</text>
</g>
<!-- idle&#45;&gt;navRequested -->
<g id="edge9" class="edge">
<title>idle&#45;&gt;navRequested</title>
<path fill="none" stroke="black" d="M391.44,-357.71C416.83,-347.64 449.66,-334.62 476.92,-323.8"/>
<polygon fill="black" stroke="black" points="478.31,-327.02 486.31,-320.08 475.73,-320.51 478.31,-327.02"/>
</g>
<!-- restart -->
<g id="node15" class="node">
<title>restart</title>
<polygon fill="none" stroke="black" points="214.24,-320 62.5,-320 62.5,-284 214.24,-284 214.24,-320"/>
<text text-anchor="middle" x="138.37" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00">Player clicks a restart link</text>
</g>
<!-- idle&#45;&gt;restart -->
<g id="edge16" class="edge">
<title>idle&#45;&gt;restart</title>
<path fill="none" stroke="black" d="M309.66,-363.43C285.79,-356.96 255.16,-348.17 228.37,-339 215.05,-334.44 200.81,-329.01 187.69,-323.77"/>
<polygon fill="black" stroke="black" points="188.95,-320.5 178.37,-320.01 186.33,-326.99 188.95,-320.5"/>
</g>
<!-- changeLiveInput -->
<g id="node17" class="node">
<title>changeLiveInput</title>
<polygon fill="none" stroke="black" points="430.29,-320 270.45,-320 270.45,-284 430.29,-284 430.29,-320"/>
<text text-anchor="middle" x="350.37" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00">Player changes a live input</text>
</g>
<!-- idle&#45;&gt;changeLiveInput -->
<g id="edge19" class="edge">
<title>idle&#45;&gt;changeLiveInput</title>
<path fill="none" stroke="black" d="M350.37,-356.81C350.37,-348.79 350.37,-339.05 350.37,-330.07"/>
<polygon fill="black" stroke="black" points="353.87,-330.03 350.37,-320.03 346.87,-330.03 353.87,-330.03"/>
</g>
<!-- checkRequired -->
<g id="node11" class="node">
<title>checkRequired</title>
<polygon fill="none" stroke="black" points="361.37,-247 270.12,-203 361.37,-159 452.62,-203 361.37,-247"/>
<text text-anchor="middle" x="361.37" y="-211.4" font-family="Helvetica,sans-Serif" font-size="12.00">Are any</text>
<text text-anchor="middle" x="361.37" y="-199.4" font-family="Helvetica,sans-Serif" font-size="12.00">required fields</text>
<text text-anchor="middle" x="361.37" y="-187.4" font-family="Helvetica,sans-Serif" font-size="12.00">blank?</text>
</g>
<!-- navRequested&#45;&gt;checkRequired -->
<g id="edge10" class="edge">
<title>navRequested&#45;&gt;checkRequired</title>
<path fill="none" stroke="black" d="M499.72,-283.88C475.14,-269.69 439.66,-249.21 410.79,-232.54"/>
<polygon fill="black" stroke="black" points="412.47,-229.47 402.06,-227.5 408.97,-235.53 412.47,-229.47"/>
</g>
<!-- blockNav -->
<g id="node12" class="node">
<title>blockNav</title>
<polygon fill="none" stroke="black" points="366.42,-109 218.32,-109 218.32,-73 366.42,-73 366.42,-109"/>
<text text-anchor="middle" x="292.37" y="-93.4" font-family="Helvetica,sans-Serif" font-size="12.00">Navigation is blocked</text>
<text text-anchor="middle" x="292.37" y="-81.4" font-family="Helvetica,sans-Serif" font-size="12.00">and browser shows error</text>
</g>
<!-- checkRequired&#45;&gt;blockNav -->
<g id="edge11" class="edge">
<title>checkRequired&#45;&gt;blockNav</title>
<path fill="none" stroke="black" d="M340.48,-168.7C330.3,-152.46 318.23,-133.23 308.73,-118.08"/>
<polygon fill="black" stroke="black" points="311.46,-115.85 303.18,-109.24 305.53,-119.57 311.46,-115.85"/>
<text text-anchor="middle" x="332.7" y="-129.8" font-family="Times,serif" font-size="14.00">yes</text>
</g>
<!-- setInputs -->
<g id="node13" class="node">
<title>setInputs</title>
<polygon fill="none" stroke="black" points="615.3,-109 429.44,-109 429.44,-73 615.3,-73 615.3,-109"/>
<text text-anchor="middle" x="522.37" y="-87.4" font-family="Helvetica,sans-Serif" font-size="12.00">State set with contents of inputs</text>
</g>
<!-- checkRequired&#45;&gt;setInputs -->
<g id="edge13" class="edge">
<title>checkRequired&#45;&gt;setInputs</title>
<path fill="none" stroke="black" d="M398.31,-176.76C425.5,-158.19 462.18,-133.12 488.59,-115.08"/>
<polygon fill="black" stroke="black" points="490.85,-117.78 497.13,-109.25 486.9,-112 490.85,-117.78"/>
<text text-anchor="middle" x="477.37" y="-129.8" font-family="Times,serif" font-size="14.00">no</text>
</g>
<!-- blockNav&#45;&gt;idle -->
<g id="edge12" class="edge">
<title>blockNav&#45;&gt;idle</title>
<path fill="none" stroke="black" d="M281.88,-109.18C274.52,-122.29 265.31,-141.1 261.37,-159 245.99,-228.88 226.27,-257.65 261.37,-320 270.04,-335.4 285.08,-346.92 300.35,-355.27"/>
<polygon fill="black" stroke="black" points="298.82,-358.42 309.32,-359.83 301.99,-352.18 298.82,-358.42"/>
</g>
<!-- addPassage -->
<g id="node14" class="node">
<title>addPassage</title>
<polygon fill="none" stroke="black" points="729.32,-36 547.42,-36 547.42,0 729.32,0 729.32,-36"/>
<text text-anchor="middle" x="638.37" y="-14.4" font-family="Helvetica,sans-Serif" font-size="12.00">New passage appended to trail</text>
</g>
<!-- setInputs&#45;&gt;addPassage -->
<g id="edge14" class="edge">
<title>setInputs&#45;&gt;addPassage</title>
<path fill="none" stroke="black" d="M550.15,-72.99C565.54,-63.58 584.85,-51.76 601.49,-41.57"/>
<polygon fill="black" stroke="black" points="603.71,-44.32 610.41,-36.11 600.05,-38.35 603.71,-44.32"/>
</g>
<!-- addPassage&#45;&gt;setPassageVars -->
<g id="edge15" class="edge">
<title>addPassage&#45;&gt;setPassageVars</title>
<path fill="none" stroke="black" d="M665.3,-36.05C681.64,-48.69 699.37,-67.57 699.37,-90 699.37,-449 699.37,-449 699.37,-449 699.37,-486.62 664.5,-504.83 625.72,-513.45"/>
<polygon fill="black" stroke="black" points="624.91,-510.05 615.79,-515.44 626.29,-516.91 624.91,-510.05"/>
</g>
<!-- unsetAll -->
<g id="node16" class="node">
<title>unsetAll</title>
<polygon fill="none" stroke="black" points="166.61,-221 0.13,-221 0.13,-185 166.61,-185 166.61,-221"/>
<text text-anchor="middle" x="83.37" y="-205.4" font-family="Helvetica,sans-Serif" font-size="12.00">All set variables are cleared,</text>
<text text-anchor="middle" x="83.37" y="-193.4" font-family="Helvetica,sans-Serif" font-size="12.00">including trail</text>
</g>
<!-- restart&#45;&gt;unsetAll -->
<g id="edge17" class="edge">
<title>restart&#45;&gt;unsetAll</title>
<path fill="none" stroke="black" d="M128.54,-283.66C120.09,-268.76 107.79,-247.06 98.15,-230.07"/>
<polygon fill="black" stroke="black" points="101.09,-228.16 93.12,-221.19 95,-231.62 101.09,-228.16"/>
</g>
<!-- unsetAll&#45;&gt;setPassageVars -->
<g id="edge18" class="edge">
<title>unsetAll&#45;&gt;setPassageVars</title>
<path fill="none" stroke="black" d="M68.4,-221.27C53.99,-239.71 34.37,-270.44 34.37,-301 34.37,-449 34.37,-449 34.37,-449 34.37,-487.51 275.45,-506.96 418.71,-515.12"/>
<polygon fill="black" stroke="black" points="418.68,-518.62 428.86,-515.69 419.07,-511.63 418.68,-518.62"/>
</g>
<!-- setLiveInputs -->
<g id="node18" class="node">
<title>setLiveInputs</title>
<polygon fill="none" stroke="black" points="671.64,-221 471.1,-221 471.1,-185 671.64,-185 671.64,-221"/>
<text text-anchor="middle" x="571.37" y="-199.4" font-family="Helvetica,sans-Serif" font-size="12.00">State set with contents of all inputs</text>
</g>
<!-- changeLiveInput&#45;&gt;setLiveInputs -->
<g id="edge20" class="edge">
<title>changeLiveInput&#45;&gt;setLiveInputs</title>
<path fill="none" stroke="black" d="M389.12,-283.99C426.36,-267.64 482.77,-242.89 522.96,-225.25"/>
<polygon fill="black" stroke="black" points="524.54,-228.37 532.29,-221.15 521.73,-221.97 524.54,-228.37"/>
</g>
<!-- setLiveInputs&#45;&gt;displayPassage -->
<g id="edge21" class="edge">
<title>setLiveInputs&#45;&gt;displayPassage</title>
<path fill="none" stroke="black" d="M586.73,-221.02C604.98,-243.4 631.52,-284.08 619.37,-320 605.49,-361.03 572.47,-399.24 548.81,-422.82"/>
<polygon fill="black" stroke="black" points="546.22,-420.46 541.5,-429.95 551.1,-425.48 546.22,-420.46"/>
</g>
</g>
</svg>
