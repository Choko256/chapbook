<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="527pt" height="985pt"
 viewBox="0.00 0.00 527.09 985.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 981)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-981 523.0859,-981 523.0859,4 -4,4"/>
<!-- loadPage -->
<g id="node1" class="node">
<title>loadPage</title>
<path fill="none" stroke="#000000" d="M462.0869,-977C462.0869,-977 363.9658,-977 363.9658,-977 357.9658,-977 351.9658,-971 351.9658,-965 351.9658,-965 351.9658,-953 351.9658,-953 351.9658,-947 357.9658,-941 363.9658,-941 363.9658,-941 462.0869,-941 462.0869,-941 468.0869,-941 474.0869,-947 474.0869,-953 474.0869,-953 474.0869,-965 474.0869,-965 474.0869,-971 468.0869,-977 462.0869,-977"/>
<text text-anchor="middle" x="413.0264" y="-955.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Browser loads page</text>
</g>
<!-- setDefaults -->
<g id="node2" class="node">
<title>setDefaults</title>
<polygon fill="none" stroke="#000000" points="477.9293,-904 348.1234,-904 348.1234,-868 477.9293,-868 477.9293,-904"/>
<text text-anchor="middle" x="413.0264" y="-882.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State defaults are set</text>
</g>
<!-- loadPage&#45;&gt;setDefaults -->
<g id="edge1" class="edge">
<title>loadPage&#45;&gt;setDefaults</title>
<path fill="none" stroke="#000000" d="M413.0264,-940.9551C413.0264,-932.8828 413.0264,-923.1764 413.0264,-914.1817"/>
<polygon fill="#000000" stroke="#000000" points="416.5265,-914.0903 413.0264,-904.0904 409.5265,-914.0904 416.5265,-914.0903"/>
</g>
<!-- loadDom -->
<g id="node3" class="node">
<title>loadDom</title>
<polygon fill="none" stroke="#000000" points="519.1455,-831 306.9072,-831 306.9072,-795 519.1455,-795 519.1455,-831"/>
<text text-anchor="middle" x="413.0264" y="-815.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Story loads from DOM data</text>
<text text-anchor="middle" x="413.0264" y="-803.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">and trail is defaulted to start passage</text>
</g>
<!-- setDefaults&#45;&gt;loadDom -->
<g id="edge2" class="edge">
<title>setDefaults&#45;&gt;loadDom</title>
<path fill="none" stroke="#000000" d="M413.0264,-867.9551C413.0264,-859.8828 413.0264,-850.1764 413.0264,-841.1817"/>
<polygon fill="#000000" stroke="#000000" points="416.5265,-841.0903 413.0264,-831.0904 409.5265,-841.0904 416.5265,-841.0903"/>
</g>
<!-- restoreState -->
<g id="node4" class="node">
<title>restoreState</title>
<polygon fill="none" stroke="#000000" points="507.935,-758 318.1177,-758 318.1177,-722 507.935,-722 507.935,-758"/>
<text text-anchor="middle" x="413.0264" y="-742.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State restores from local storage</text>
<text text-anchor="middle" x="413.0264" y="-730.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">if possible</text>
</g>
<!-- loadDom&#45;&gt;restoreState -->
<g id="edge3" class="edge">
<title>loadDom&#45;&gt;restoreState</title>
<path fill="none" stroke="#000000" d="M413.0264,-794.9551C413.0264,-786.8828 413.0264,-777.1764 413.0264,-768.1817"/>
<polygon fill="#000000" stroke="#000000" points="416.5265,-768.0903 413.0264,-758.0904 409.5265,-768.0904 416.5265,-768.0903"/>
</g>
<!-- addStyle -->
<g id="node5" class="node">
<title>addStyle</title>
<polygon fill="none" stroke="#000000" points="491.9194,-685 334.1333,-685 334.1333,-649 491.9194,-649 491.9194,-685"/>
<text text-anchor="middle" x="413.0264" y="-663.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Custom story styles added</text>
</g>
<!-- restoreState&#45;&gt;addStyle -->
<g id="edge4" class="edge">
<title>restoreState&#45;&gt;addStyle</title>
<path fill="none" stroke="#000000" d="M413.0264,-721.9551C413.0264,-713.8828 413.0264,-704.1764 413.0264,-695.1817"/>
<polygon fill="#000000" stroke="#000000" points="416.5265,-695.0903 413.0264,-685.0904 409.5265,-695.0904 416.5265,-695.0903"/>
</g>
<!-- addScript -->
<g id="node6" class="node">
<title>addScript</title>
<polygon fill="none" stroke="#000000" points="485.8901,-612 340.1626,-612 340.1626,-576 485.8901,-576 485.8901,-612"/>
<text text-anchor="middle" x="413.0264" y="-590.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Custom story scripts run</text>
</g>
<!-- addStyle&#45;&gt;addScript -->
<g id="edge5" class="edge">
<title>addStyle&#45;&gt;addScript</title>
<path fill="none" stroke="#000000" d="M413.0264,-648.9551C413.0264,-640.8828 413.0264,-631.1764 413.0264,-622.1817"/>
<polygon fill="#000000" stroke="#000000" points="416.5265,-622.0903 413.0264,-612.0904 409.5265,-622.0904 416.5265,-622.0903"/>
</g>
<!-- setPassageVars -->
<g id="node7" class="node">
<title>setPassageVars</title>
<polygon fill="none" stroke="#000000" points="506.2804,-539 319.7723,-539 319.7723,-503 506.2804,-503 506.2804,-539"/>
<text text-anchor="middle" x="413.0264" y="-517.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Passage at end of trail sets vars</text>
</g>
<!-- addScript&#45;&gt;setPassageVars -->
<g id="edge6" class="edge">
<title>addScript&#45;&gt;setPassageVars</title>
<path fill="none" stroke="#000000" d="M413.0264,-575.9551C413.0264,-567.8828 413.0264,-558.1764 413.0264,-549.1817"/>
<polygon fill="#000000" stroke="#000000" points="416.5265,-549.0903 413.0264,-539.0904 409.5265,-549.0904 416.5265,-549.0903"/>
</g>
<!-- displayPassage -->
<g id="node8" class="node">
<title>displayPassage</title>
<polygon fill="none" stroke="#000000" points="345.1221,-466 162.9306,-466 162.9306,-430 345.1221,-430 345.1221,-466"/>
<text text-anchor="middle" x="254.0264" y="-444.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Passage at end of trail displays</text>
</g>
<!-- setPassageVars&#45;&gt;displayPassage -->
<g id="edge7" class="edge">
<title>setPassageVars&#45;&gt;displayPassage</title>
<path fill="none" stroke="#000000" d="M373.723,-502.9551C352.2233,-493.0841 325.4011,-480.7695 302.5998,-470.301"/>
<polygon fill="#000000" stroke="#000000" points="303.977,-467.0821 293.4287,-466.0904 301.0562,-473.4437 303.977,-467.0821"/>
</g>
<!-- idle -->
<g id="node9" class="node">
<title>idle</title>
<polygon fill="none" stroke="#000000" points="204.9062,-393 123.1466,-393 123.1466,-357 204.9062,-357 204.9062,-393"/>
<text text-anchor="middle" x="164.0264" y="-371.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Engine idles</text>
</g>
<!-- displayPassage&#45;&gt;idle -->
<g id="edge8" class="edge">
<title>displayPassage&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M231.7792,-429.9551C220.4209,-420.7422 206.4381,-409.4006 194.1308,-399.418"/>
<polygon fill="#000000" stroke="#000000" points="196.3008,-396.6716 186.3296,-393.0904 191.8912,-402.1081 196.3008,-396.6716"/>
</g>
<!-- navRequested -->
<g id="node10" class="node">
<title>navRequested</title>
<polygon fill="none" stroke="#000000" points="215.2571,-320 52.7957,-320 52.7957,-284 215.2571,-284 215.2571,-320"/>
<text text-anchor="middle" x="134.0264" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Player clicks a passage link</text>
</g>
<!-- idle&#45;&gt;navRequested -->
<g id="edge9" class="edge">
<title>idle&#45;&gt;navRequested</title>
<path fill="none" stroke="#000000" d="M156.6106,-356.9551C153.2212,-348.7074 149.1306,-338.7536 145.3673,-329.5962"/>
<polygon fill="#000000" stroke="#000000" points="148.4992,-328.0094 141.4608,-320.0904 142.0247,-330.6702 148.4992,-328.0094"/>
</g>
<!-- restart -->
<g id="node15" class="node">
<title>restart</title>
<polygon fill="none" stroke="#000000" points="384.896,-320 233.1568,-320 233.1568,-284 384.896,-284 384.896,-320"/>
<text text-anchor="middle" x="309.0264" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Player clicks a restart link</text>
</g>
<!-- idle&#45;&gt;restart -->
<g id="edge16" class="edge">
<title>idle&#45;&gt;restart</title>
<path fill="none" stroke="#000000" d="M199.8691,-356.9551C219.2143,-347.2157 243.2848,-335.0975 263.8962,-324.7207"/>
<polygon fill="#000000" stroke="#000000" points="265.7354,-327.7133 273.0935,-320.0904 262.5876,-321.461 265.7354,-327.7133"/>
</g>
<!-- checkRequired -->
<g id="node11" class="node">
<title>checkRequired</title>
<polygon fill="none" stroke="#000000" points="144.0264,-247 52.7762,-203 144.0264,-159 235.2765,-203 144.0264,-247"/>
<text text-anchor="middle" x="144.0264" y="-211.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Are any</text>
<text text-anchor="middle" x="144.0264" y="-199.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">required fields</text>
<text text-anchor="middle" x="144.0264" y="-187.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">blank?</text>
</g>
<!-- navRequested&#45;&gt;checkRequired -->
<g id="edge10" class="edge">
<title>navRequested&#45;&gt;checkRequired</title>
<path fill="none" stroke="#000000" d="M135.8605,-283.8419C136.6809,-275.7199 137.6945,-265.6855 138.7252,-255.4815"/>
<polygon fill="#000000" stroke="#000000" points="142.2323,-255.5867 139.7551,-245.2855 135.2677,-254.8831 142.2323,-255.5867"/>
</g>
<!-- blockNav -->
<g id="node12" class="node">
<title>blockNav</title>
<polygon fill="none" stroke="#000000" points="148.0791,-109 -.0264,-109 -.0264,-73 148.0791,-73 148.0791,-109"/>
<text text-anchor="middle" x="74.0264" y="-93.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">Navigation is blocked</text>
<text text-anchor="middle" x="74.0264" y="-81.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">and browser shows error</text>
</g>
<!-- checkRequired&#45;&gt;blockNav -->
<g id="edge11" class="edge">
<title>checkRequired&#45;&gt;blockNav</title>
<path fill="none" stroke="#000000" d="M122.8341,-169.0924C112.5409,-152.6232 100.3501,-133.118 90.7271,-117.7212"/>
<polygon fill="#000000" stroke="#000000" points="93.6597,-115.8095 85.3917,-109.1845 87.7237,-119.5195 93.6597,-115.8095"/>
<text text-anchor="middle" x="112.0264" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#000000">no</text>
</g>
<!-- setInputs -->
<g id="node13" class="node">
<title>setInputs</title>
<polygon fill="none" stroke="#000000" points="383.9566,-109 198.0962,-109 198.0962,-73 383.9566,-73 383.9566,-109"/>
<text text-anchor="middle" x="291.0264" y="-87.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">State set with contents of inputs</text>
</g>
<!-- checkRequired&#45;&gt;setInputs -->
<g id="edge13" class="edge">
<title>checkRequired&#45;&gt;setInputs</title>
<path fill="none" stroke="#000000" d="M179.611,-175.8879C203.8277,-157.4371 235.6063,-133.2248 259.0248,-115.3822"/>
<polygon fill="#000000" stroke="#000000" points="261.4117,-117.9637 267.2449,-109.1192 257.1694,-112.3957 261.4117,-117.9637"/>
<text text-anchor="middle" x="253.3574" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#000000">yes</text>
</g>
<!-- blockNav&#45;&gt;idle -->
<g id="edge12" class="edge">
<title>blockNav&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M64.2856,-109.0823C43.6028,-150.1923 .6083,-252.3388 44.0264,-320 59.3234,-343.8384 87.8201,-357.4787 113.2057,-365.2115"/>
<polygon fill="#000000" stroke="#000000" points="112.5388,-368.6594 123.1124,-367.9887 114.4284,-361.9192 112.5388,-368.6594"/>
</g>
<!-- addPassage -->
<g id="node14" class="node">
<title>addPassage</title>
<polygon fill="none" stroke="#000000" points="480.9722,-36 299.0805,-36 299.0805,0 480.9722,0 480.9722,-36"/>
<text text-anchor="middle" x="390.0264" y="-14.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">New passage appended to trail</text>
</g>
<!-- setInputs&#45;&gt;addPassage -->
<g id="edge14" class="edge">
<title>setInputs&#45;&gt;addPassage</title>
<path fill="none" stroke="#000000" d="M315.4983,-72.9551C328.1114,-63.6545 343.6667,-52.1844 357.2978,-42.1332"/>
<polygon fill="#000000" stroke="#000000" points="359.5215,-44.8421 365.4929,-36.0904 355.3672,-39.2082 359.5215,-44.8421"/>
</g>
<!-- addPassage&#45;&gt;setPassageVars -->
<g id="edge15" class="edge">
<title>addPassage&#45;&gt;setPassageVars</title>
<path fill="none" stroke="#000000" d="M417.6707,-36.2763C433.8105,-49.3397 451.0264,-68.5384 451.0264,-91 451.0264,-448 451.0264,-448 451.0264,-448 451.0264,-464.6007 443.1989,-481.1698 434.649,-494.3163"/>
<polygon fill="#000000" stroke="#000000" points="431.5596,-492.6272 428.7018,-502.8293 437.298,-496.6361 431.5596,-492.6272"/>
</g>
<!-- unsetAll -->
<g id="node16" class="node">
<title>unsetAll</title>
<polygon fill="none" stroke="#000000" points="422.2649,-221 255.7879,-221 255.7879,-185 422.2649,-185 422.2649,-221"/>
<text text-anchor="middle" x="339.0264" y="-205.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">All set variables are cleared,</text>
<text text-anchor="middle" x="339.0264" y="-193.4" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">including trail</text>
</g>
<!-- restart&#45;&gt;unsetAll -->
<g id="edge17" class="edge">
<title>restart&#45;&gt;unsetAll</title>
<path fill="none" stroke="#000000" d="M314.5288,-283.8419C319.0114,-269.0493 325.4164,-247.9128 330.553,-230.9621"/>
<polygon fill="#000000" stroke="#000000" points="334.0082,-231.6283 333.5588,-221.043 327.3091,-229.5982 334.0082,-231.6283"/>
</g>
<!-- unsetAll&#45;&gt;setPassageVars -->
<g id="edge18" class="edge">
<title>unsetAll&#45;&gt;setPassageVars</title>
<path fill="none" stroke="#000000" d="M364.0794,-221.1932C385.5474,-239.0852 413.0264,-268.525 413.0264,-302 413.0264,-448 413.0264,-448 413.0264,-448 413.0264,-462.7004 413.0264,-479.066 413.0264,-492.5698"/>
<polygon fill="#000000" stroke="#000000" points="409.5265,-492.6996 413.0264,-502.6997 416.5265,-492.6997 409.5265,-492.6996"/>
</g>
</g>
</svg>
